From 6b9f64ae4377fb3538a8043cb099e77134215aa0 Mon Sep 17 00:00:00 2001
From: John Rigby <john.rigby@vivint.com>
Date: Mon, 16 Mar 2015 19:46:36 -0600
Subject: [PATCH] Add QWS support

---
 PyQt-x11-gpl-4.9.6/sip/QtCore/QtCoremod.sip        | 280 ++++++++++--
 PyQt-x11-gpl-4.9.6/sip/QtCore/qnamespace.sip       |   2 +-
 PyQt-x11-gpl-4.9.6/sip/QtCore/qprocess.sip         |   2 +-
 PyQt-x11-gpl-4.9.6/sip/QtGui/QtGuimod.sip          | 482 +++++++++++++++------
 PyQt-x11-gpl-4.9.6/sip/QtGui/qdecoration.sip       |  59 +++
 PyQt-x11-gpl-4.9.6/sip/QtGui/qfont.sip             |   4 +
 PyQt-x11-gpl-4.9.6/sip/QtGui/qtextlayout.sip       |   2 +-
 PyQt-x11-gpl-4.9.6/sip/QtGui/qtextobject.sip       |   2 +-
 PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowdefs.sip       |   3 +
 PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowsystem_qws.sip | 190 ++++++++
 10 files changed, 859 insertions(+), 167 deletions(-)
 create mode 100644 PyQt-x11-gpl-4.9.6/sip/QtGui/qdecoration.sip
 create mode 100644 PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowsystem_qws.sip

diff --git a/PyQt-x11-gpl-4.9.6/sip/QtCore/QtCoremod.sip b/PyQt-x11-gpl-4.9.6/sip/QtCore/QtCoremod.sip
index a56133f..68c9c4c 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtCore/QtCoremod.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtCore/QtCoremod.sip
@@ -29,17 +29,160 @@
 
 %Timeline {Qt_4_1_1 Qt_4_1_2 Qt_4_1_3 Qt_4_2_0 Qt_4_2_2 Qt_4_2_3 Qt_4_3_0 Qt_4_3_1 Qt_4_3_2 Qt_4_3_3 Qt_4_3_4 Qt_4_4_0 Qt_4_4_1 Qt_4_4_2 Qt_4_5_0 Qt_4_5_1 Qt_4_5_2 Qt_4_5_3 Qt_4_6_0 Qt_4_6_1 Qt_4_6_2 Qt_4_6_3 Qt_4_7_0 Qt_4_7_1 Qt_4_7_2 Qt_4_7_3 Qt_4_7_4 Qt_4_8_0 Qt_4_8_1 Qt_4_8_2 Qt_4_8_3 Qt_4_8_4 Qt_5_0_0}
 
-%Platforms {WS_X11 WS_WIN WS_MACX}
+%Platforms {WS_X11 WS_WIN WS_MACX WS_QWS}
 
 %Feature PyQt_Accessibility
+%Feature PyQt_Action
+%Feature PyQt_Animation
+%Feature PyQt_ButtonGroup
+%Feature PyQt_BearerManagement
+%Feature PyQt_CalendarWidget
+%Feature PyQt_Clipboard
+%Feature PyQt_ColorDialog
+%Feature PyQt_ColumnView
+%Feature PyQt_ComboBox
+%Feature PyQt_Completer
+%Feature PyQt_Concurrent
+%Feature PyQt_ContextMenu
+%Feature PyQt_COP
+%Feature PyQt_CSSParser
+%Feature PyQt_Cursor
+%Feature PyQt_DataStream
+%Feature PyQt_DataWidgetMapper
+%Feature PyQt_DateString
+%Feature PyQt_DateTimeEdit
+%Feature PyQt_DBus
+%Feature PyQt_DesktopServices
+%Feature PyQt_Dial
+%Feature PyQt_DirModel
+%Feature PyQt_DockWidget
+%Feature PyQt_DOMClasses
+%Feature PyQt_DragAndDrop
+%Feature PyQt_ErrorMessage
+%Feature PyQt_FileDialog
+%Feature PyQt_FileSystemModel
+%Feature PyQt_FileSystemWatcher
+%Feature PyQt_FontComboBox
+%Feature PyQt_FontDialog
+%Feature PyQt_FTP
+%Feature PyQt_Gestures
+%Feature PyQt_GraphicsSVGItem
+%Feature PyQt_GraphicsView
+%Feature PyQt_GroupBox
+%Feature PyQt_HostInfo
+%Feature PyQt_HTTP
+%Feature PyQt_Icon
+%Feature PyQt_IdentityProxyModel
+%Feature PyQt_IM
+%Feature PyQt_ImageFormatPlugin
+%Feature PyQt_ImageFormat_BMP
+%Feature PyQt_ImageFormat_JPEG
+%Feature PyQt_ImageFormat_PNG
+%Feature PyQt_ImageFormat_PPM
+%Feature PyQt_ImageFormat_XBM
+%Feature PyQt_ImageFormat_XPM
+%Feature PyQt_Image_Heuristic_Mask
+%Feature PyQt_Image_Text
+%Feature PyQt_InputDialog
+%Feature PyQt_InputMethod
+%Feature PyQt_ItemViews
+%Feature PyQt_LCDNumber
+%Feature PyQt_Library
+%Feature PyQt_LineEdit
+%Feature PyQt_LineEditMenu
+%Feature PyQt_ListView
+%Feature PyQt_ListWidget
+%Feature PyQt_MainWindow
+%Feature PyQt_MDIArea
+%Feature PyQt_Menu
+%Feature PyQt_MenuBar
+%Feature PyQt_MessageBox
+%Feature PyQt_Movie
+%Feature PyQt_NetworkDiskCache
+%Feature PyQt_NetworkProxy
+%Feature PyQt_NoQtPrintRangeBug
+%Feature PyQt_Phonon_EffectWidget
+%Feature PyQt_Phonon_SeekSlider
+%Feature PyQt_Phonon_VolumeSlider
+%Feature PyQt_Picture
+%Feature PyQt_Process
+%Feature PyQt_ProgressBar
+%Feature PyQt_ProgressDialog
+%Feature PyQt_Properties
+%Feature PyQt_ProxyModel
+%Feature PyQt_QWS_ClientBlit
+%Feature PyQt_QWS_Cursor
+%Feature PyQt_QWS_EmbedWidget
+%Feature PyQt_QWS_InputMethods
+%Feature PyQt_QWS_Keyboard
+%Feature PyQt_QWS_Manager
+%Feature PyQt_RawFont
+%Feature PyQt_RubberBand
+%Feature PyQt_ScrollArea
+%Feature PyQt_ScrollBar
 %Feature PyQt_SessionManager
+%Feature PyQt_Settings
+%Feature PyQt_SharedMemory
+%Feature PyQt_Shortcut
+%Feature PyQt_SignalMapper
+%Feature PyQt_SizeGrip
+%Feature PyQt_Slider
+%Feature PyQt_Socks5
+%Feature PyQt_SortFilterProxyModel
+%Feature PyQt_Sound
+%Feature PyQt_SpinBox
+%Feature PyQt_SplashScreen
+%Feature PyQt_Splitter
+%Feature PyQt_StackedWidget
+%Feature PyQt_StandardItemModel
+%Feature PyQt_StateMachine
+%Feature PyQt_StatusBar
 %Feature PyQt_StatusTip
+%Feature PyQt_StringListModel
+%Feature PyQt_Style_StyleSheet
+%Feature PyQt_SVGGenerator
+%Feature PyQt_SVGRenderer
+%Feature PyQt_SVGWidget
+%Feature PyQt_SyntaxHighlighter
+%Feature PyQt_SystemSemaphore
+%Feature PyQt_TabBar
+%Feature PyQt_TabWidget
+%Feature PyQt_TabletEvent
+%Feature PyQt_TableView
+%Feature PyQt_TableWidget
+%Feature PyQt_TemporaryFile
+%Feature PyQt_TextBrowser
+%Feature PyQt_TextCodec
+%Feature PyQt_TextDate
+%Feature PyQt_TextEdit
+%Feature PyQt_TextEditMenu
+%Feature PyQt_TextHTMLParser
+%Feature PyQt_TextStream
+%Feature PyQt_Thread
+%Feature PyQt_ToolBar
+%Feature PyQt_ToolBox
+%Feature PyQt_ToolButton
 %Feature PyQt_ToolTip
+%Feature PyQt_Translation
+%Feature PyQt_TreeView
+%Feature PyQt_TreeWidget
+%Feature PyQt_UDPSocket
+%Feature PyQt_UndoCommand
+%Feature PyQt_UndoGroup
+%Feature PyQt_UndoStack
+%Feature PyQt_UndoView
+%Feature PyQt_URLInfo
+%Feature PyQt_UUIDString
+%Feature PyQt_Validator
 %Feature PyQt_WhatsThis
-%Feature PyQt_NoQtPrintRangeBug
+%Feature PyQt_WheelEvent
+%Feature PyQt_Wizard
+%Feature PyQt_Workspace
+%Feature PyQt_XMLStream
+%Feature PyQt_XMLStreamReader
+%Feature PyQt_XMLStreamWriter
 %Feature Py_DateTime
 %Feature PyQt_OpenSSL
-%Feature PyQt_SizeGrip
 %Feature PyQt_qreal_double
 %Feature Py_v3
 %Feature PyQt_PrintDialog
@@ -47,7 +190,6 @@
 %Feature PyQt_PrintPreviewWidget
 %Feature PyQt_PrintPreviewDialog
 %Feature PyQt_SystemTrayIcon
-%Feature PyQt_RawFont
 %Feature PyQt_NoOpenGLES
 %Feature PyQt_Deprecated_5_0
 
@@ -132,13 +274,19 @@ WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 
 %Include qglobal.sip
 %Include qnamespace.sip
-%Include qabstractanimation.sip
+%If (PyQt_Animation)
+  %Include qabstractanimation.sip
+%End
 %Include qabstracteventdispatcher.sip
 %Include qabstractfileengine.sip
 %Include qabstractitemmodel.sip
-%Include qabstractstate.sip
-%Include qabstracttransition.sip
-%Include qanimationgroup.sip
+%If (PyQt_StateMachine)
+  %Include qabstractstate.sip
+  %Include qabstracttransition.sip
+%End
+%If (PyQt_Animation)
+  %Include qanimationgroup.sip
+%End
 %Include qbasictimer.sip
 %Include qbitarray.sip
 %Include qbuffer.sip
@@ -148,25 +296,39 @@ WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 %Include qcoreapplication.sip
 %Include qcoreevent.sip
 %Include qcryptographichash.sip
-%Include qdatastream.sip
+%If (PyQt_DataStream)
+  %Include qdatastream.sip
+%End
 %Include qdatetime.sip
 %Include qdir.sip
 %Include qdiriterator.sip
 %Include qeasingcurve.sip
 %Include qelapsedtimer.sip
 %Include qeventloop.sip
-%Include qeventtransition.sip
+%If (PyQt_StateMachine)
+  %Include qeventtransition.sip
+%End
 %Include qfile.sip
 %Include qfiledevice.sip
 %Include qfileinfo.sip
-%Include qfilesystemwatcher.sip
-%Include qfinalstate.sip
+%If (PyQt_FileSystemWatcher)
+  %Include qfilesystemwatcher.sip
+%End
+%If (PyQt_StateMachine)
+  %Include qfinalstate.sip
+%End
 %Include qfsfileengine.sip
 %Include qhash.sip
-%Include qhistorystate.sip
+%If (PyQt_StateMachine)
+  %Include qhistorystate.sip
+%End
 %Include qiodevice.sip
-%Include qlibrary.sip
-%Include qlibraryinfo.sip
+%If (PyQt_Library)
+  %Include qlibrary.sip
+%End
+%If (PyQt_Settings)
+  %Include qlibraryinfo.sip
+%End
 %Include qline.sip
 %Include qlist.sip
 %Include qlocale.sip
@@ -175,53 +337,93 @@ WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 %Include qmetaobject.sip
 %Include qmetatype.sip
 %Include qmimedata.sip
-%Include qmutex.sip
+%If (PyQt_Thread)
+  %Include qmutex.sip
+%End
 %Include qnumeric.sip
 %Include qobject.sip
 %Include qobjectcleanuphandler.sip
 %Include qobjectdefs.sip
 %Include qpair.sip
-%Include qparallelanimationgroup.sip
-%Include qpauseanimation.sip
-%Include qpropertyanimation.sip
-%Include qpluginloader.sip
+%If (PyQt_Animation)
+  %Include qparallelanimationgroup.sip
+  %Include qpauseanimation.sip
+  %Include qpropertyanimation.sip
+%End
+%If (PyQt_Library)
+  %Include qpluginloader.sip
+%End
 %Include qpoint.sip
-%Include qprocess.sip
+%If (PyQt_Process)
+  %Include qprocess.sip
+%End
 %Include qreadwritelock.sip
 %Include qrect.sip
 %Include qregexp.sip
 %Include qresource.sip
 %Include qrunnable.sip
-%Include qsemaphore.sip
-%Include qsequentialanimationgroup.sip
+%If (PyQt_Thread)
+  %Include qsemaphore.sip
+%End
+%If (PyQt_Animation)
+  %Include qsequentialanimationgroup.sip
+%End
 %Include qset.sip
-%Include qsettings.sip
-%Include qsharedmemory.sip
-%Include qsignalmapper.sip
-%Include qsignaltransition.sip
+%If (PyQt_Settings)
+  %Include qsettings.sip
+%End
+%If (PyQt_SharedMemory)
+  %Include qsharedmemory.sip
+%End
+%If (PyQt_SignalMapper)
+  %Include qsignalmapper.sip
+%End
+%If (PyQt_StateMachine)
+  %Include qsignaltransition.sip
+%End
 %Include qsize.sip
 %Include qsocketnotifier.sip
-%Include qstate.sip
-%Include qstatemachine.sip
+%If (PyQt_StateMachine)
+  %Include qstate.sip
+  %Include qstatemachine.sip
+%End
 %Include qstring.sip
 %Include qstringlist.sip
 %Include qstringmatcher.sip
-%Include qsystemsemaphore.sip
-%Include qtemporaryfile.sip
+%If (PyQt_SystemSemaphore)
+  %Include qsystemsemaphore.sip
+%End
+%If (PyQt_TemporaryFile)
+  %Include qtemporaryfile.sip
+%End
 %Include qtextboundaryfinder.sip
-%Include qtextcodec.sip
-%Include qtextstream.sip
-%Include qthread.sip
-%Include qthreadpool.sip
+%If (PyQt_TextCodec)
+  %Include qtextcodec.sip
+%End
+%If (PyQt_TextStream)
+  %Include qtextstream.sip
+%End
+%If (PyQt_Thread)
+  %Include qthread.sip
+  %Include qthreadpool.sip
+%End
 %Include qtimeline.sip
 %Include qtimer.sip
-%Include qtranslator.sip
+%If (PyQt_Translation)
+  %Include qtranslator.sip
+%End
 %Include qurl.sip
 %Include qurlquery.sip
 %Include quuid.sip
 %Include qvariant.sip
-%Include qvariantanimation.sip
+%If (PyQt_Animation)
+  %Include qvariantanimation.sip
+%End
 %Include qvector.sip
-%Include qwaitcondition.sip
-%Include qxmlstream.sip
+%If (PyQt_Thread)
+  %Include qwaitcondition.sip
+%End
+%If (PyQt_XMLStream)
+  %Include qxmlstream.sip
+%End
 %Include qpynullvariant.sip
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtCore/qnamespace.sip b/PyQt-x11-gpl-4.9.6/sip/QtCore/qnamespace.sip
index 74ca56d..6c87af1 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtCore/qnamespace.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtCore/qnamespace.sip
@@ -1660,12 +1660,12 @@ namespace Qt
         MatchRecursive,
     };
 
+%If (WS_WIN || WS_MACX || WS_QWS)
     typedef QFlags<Qt::MatchFlag> MatchFlags;
 %If (Qt_5_0_0 -)
     typedef void *HANDLE;
 %End
 %If (- Qt_5_0_0)
-%If (WS_WIN || WS_MACX)
     typedef void *HANDLE;
 %End
 %End
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtCore/qprocess.sip b/PyQt-x11-gpl-4.9.6/sip/QtCore/qprocess.sip
index 636afbd..ed07916 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtCore/qprocess.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtCore/qprocess.sip
@@ -28,7 +28,7 @@
 %If (WS_WIN)
 typedef void *Q_PID;
 %End
-%If (WS_X11 || WS_MACX)
+%If (WS_X11 || WS_MACX || WS_QWS)
 typedef qint64 Q_PID;
 %End
 
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/QtGuimod.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/QtGuimod.sip
index 6617e80..74f9f57 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtGui/QtGuimod.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/QtGuimod.sip
@@ -58,205 +58,439 @@ WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 %DefaultSupertype sip.simplewrapper
 
 %Include qabstractbutton.sip
-%Include qabstractitemdelegate.sip
-%Include qabstractitemview.sip
-%Include qabstractprintdialog.sip
-%Include qabstractproxymodel.sip
-%Include qabstractscrollarea.sip
-%Include qabstractslider.sip
-%Include qabstractspinbox.sip
+%If (PyQt_ItemViews)
+  %Include qabstractitemdelegate.sip
+  %Include qabstractitemview.sip
+%End
+%If (PyQt_PrintDialog)
+  %Include qabstractprintdialog.sip
+%End
+%If (PyQt_ItemViews)
+  %If (PyQt_ProxyModel)
+    %Include qabstractproxymodel.sip
+  %End
+%End
+%If (PyQt_ScrollArea)
+  %Include qabstractscrollarea.sip
+%End
+%If (PyQt_Slider)
+  %Include qabstractslider.sip
+%End
+%If (PyQt_SpinBox)
+  %Include qabstractspinbox.sip
+%End
 %Include qabstracttextdocumentlayout.sip
-%Include qaction.sip
-%Include qactiongroup.sip
+%If (PyQt_Action)
+  %Include qaction.sip
+  %Include qactiongroup.sip
+%End
 %Include qapplication.sip
 %Include qbitmap.sip
 %Include qboxlayout.sip
 %Include qcolor.sip
 %Include qcommandlinkbutton.sip
 %Include qbrush.sip
-%Include qbuttongroup.sip
-%Include qcalendarwidget.sip
+%If (PyQt_ButtonGroup)
+  %Include qbuttongroup.sip
+%End
+%If (PyQt_CalendarWidget)
+  %Include qcalendarwidget.sip
+%End
 %Include qcheckbox.sip
-%Include qclipboard.sip
-%Include qcolumnview.sip
-%Include qcolordialog.sip
-%Include qcombobox.sip
+%If (PyQt_Clipboard)
+  %Include qclipboard.sip
+%End
+%If (PyQt_ItemViews)
+  %If (PyQt_ColumnView)
+    %Include qcolumnview.sip
+  %End
+%End
+%If (PyQt_ColorDialog)
+  %Include qcolordialog.sip
+%End
+%If (PyQt_ComboBox)
+  %Include qcombobox.sip
+%End
 %Include qcommonstyle.sip
-%Include qcompleter.sip
-%Include qcursor.sip
-%Include qdatawidgetmapper.sip
-%Include qdatetimeedit.sip
-%Include qdesktopservices.sip
+%If (PyQt_Completer)
+  %Include qcompleter.sip
+%End
+%If (PyQt_Cursor)
+  %Include qcursor.sip
+%End
+%If (PyQt_DataWidgetMapper)
+  %Include qdatawidgetmapper.sip
+%End
+%If (PyQt_DateTimeEdit)
+  %Include qdatetimeedit.sip
+%End
+%Include qdecoration.sip
+%If (PyQt_DesktopServices)
+  %Include qdesktopservices.sip
+%End
 %Include qdesktopwidget.sip
-%Include qdial.sip
+%If (PyQt_Dial)
+  %Include qdial.sip
+%End
 %Include qdialog.sip
 %Include qdialogbuttonbox.sip
-%Include qdirmodel.sip
-%Include qdockwidget.sip
-%Include qdrag.sip
+%If (PyQt_DirModel)
+  %Include qdirmodel.sip
+%End
+%If (PyQt_DockWidget)
+  %Include qdockwidget.sip
+%End
+%If (PyQt_DragAndDrop)
+  %Include qdrag.sip
+%End
 %Include qdrawutil.sip
-%Include qerrormessage.sip
+%If (PyQt_ErrorMessage)
+  %Include qerrormessage.sip
+%End
 %Include qevent.sip
-%Include qfiledialog.sip
+%If (PyQt_FileDialog)
+  %Include qfiledialog.sip
+%End
 %Include qfileiconprovider.sip
-%Include qfilesystemmodel.sip
+%If (PyQt_FileSystemModel)
+  %Include qfilesystemmodel.sip
+%End
 %Include qfocusframe.sip
 %Include qfont.sip
-%Include qfontcombobox.sip
+%If (PyQt_FontComboBox)
+  %Include qfontcombobox.sip
+%End
 %Include qfontdatabase.sip
-%Include qfontdialog.sip
+%If (PyQt_FontDialog)
+  %Include qfontdialog.sip
+%End
 %Include qfontinfo.sip
 %Include qfontmetrics.sip
 %Include qformlayout.sip
 %Include qframe.sip
 %Include qgenericmatrix.sip
-%Include qgesture.sip
-%Include qgesturerecognizer.sip
-%Include qglyphrun.sip
-%Include qgraphicsanchorlayout.sip
-%Include qgraphicseffect.sip
-%Include qgraphicsgridlayout.sip
-%Include qgraphicsitem.sip
-%Include qgraphicsitemanimation.sip
-%Include qgraphicslayout.sip
-%Include qgraphicslayoutitem.sip
-%Include qgraphicslinearlayout.sip
-%Include qgraphicsproxywidget.sip
-%Include qgraphicsscene.sip
-%Include qgraphicswidget.sip
-%Include qgraphicssceneevent.sip
-%Include qgraphicstransform.sip
-%Include qgraphicsview.sip
+%If (PyQt_Gestures)
+  %Include qgesture.sip
+  %Include qgesturerecognizer.sip
+%End
+%If (PyQt_RawFont)
+  %Include qglyphrun.sip
+%End
+%If (PyQt_GraphicsView)
+  %Include qgraphicsanchorlayout.sip
+  %Include qgraphicseffect.sip
+  %Include qgraphicsgridlayout.sip
+  %Include qgraphicsitem.sip
+  %Include qgraphicsitemanimation.sip
+  %Include qgraphicslayout.sip
+  %Include qgraphicslayoutitem.sip
+  %Include qgraphicslinearlayout.sip
+  %Include qgraphicsproxywidget.sip
+  %Include qgraphicsscene.sip
+  %Include qgraphicswidget.sip
+  %Include qgraphicssceneevent.sip
+  %Include qgraphicstransform.sip
+  %Include qgraphicsview.sip
+%End
 %Include qgridlayout.sip
-%Include qgroupbox.sip
+%If (PyQt_GroupBox)
+  %Include qgroupbox.sip
+%End
 %Include qguiapplication.sip
-%Include qheaderview.sip
+%If (PyQt_ItemViews)
+  %Include qheaderview.sip
+%End
 %Include qicon.sip
 %Include qiconengine.sip
-%Include qidentityproxymodel.sip
+%If (PyQt_ProxyModel)
+  %If (PyQt_IdentityProxyModel)
+    %Include qidentityproxymodel.sip
+  %End
+%End
 %Include qimage.sip
 %Include qimageiohandler.sip
 %Include qimagereader.sip
 %Include qimagewriter.sip
-%Include qinputcontext.sip
-%Include qinputcontextfactory.sip
-%Include qinputdialog.sip
-%Include qitemdelegate.sip
-%Include qitemeditorfactory.sip
-%Include qitemselectionmodel.sip
-%Include qkeyeventtransition.sip
-%Include qkeysequence.sip
+%If (PyQt_IM)
+  %Include qinputcontext.sip
+  %Include qinputcontextfactory.sip
+%End
+%If (PyQt_InputDialog)
+  %Include qinputdialog.sip
+%End
+%If (PyQt_ItemViews)
+  %Include qitemdelegate.sip
+  %Include qitemeditorfactory.sip
+  %Include qitemselectionmodel.sip
+%End
+%If (PyQt_StateMachine)
+  %Include qkeyeventtransition.sip
+%End
+%If (PyQt_Shortcut)
+  %Include qkeysequence.sip
+%End
 %Include qlabel.sip
 %Include qlayout.sip
 %Include qlayoutitem.sip
-%Include qlcdnumber.sip
-%Include qlineedit.sip
-%Include qlistview.sip
-%Include qlistwidget.sip
-%Include qmainwindow.sip
+%If (PyQt_LCDNumber)
+  %Include qlcdnumber.sip
+%End
+%If (PyQt_LineEdit)
+  %Include qlineedit.sip
+%End
+%If (PyQt_ItemViews)
+  %If (PyQt_ListView)
+    %Include qlistview.sip
+    %If (PyQt_ListWidget)
+      %Include qlistwidget.sip
+    %End
+  %End
+%End
+%If (PyQt_MainWindow)
+  %Include qmainwindow.sip
+%End
 %Include qmatrix.sip
 %Include qmatrix4x4.sip
-%Include qmdiarea.sip
-%Include qmdisubwindow.sip
-%Include qmenu.sip
-%Include qmenubar.sip
-%Include qmessagebox.sip
+%If (PyQt_MDIArea)
+  %Include qmdiarea.sip
+  %Include qmdisubwindow.sip
+%End
+%If (PyQt_Menu)
+  %Include qmenu.sip
+%End
+%If (PyQt_MenuBar)
+  %Include qmenubar.sip
+%End
+%If (PyQt_MessageBox)
+  %Include qmessagebox.sip
+%End
 %Include qmime.sip
-%Include qmouseeventtransition.sip
-%Include qmovie.sip
+%If (PyQt_StateMachine)
+  %Include qmouseeventtransition.sip
+%End
+%If (PyQt_Movie)
+  %Include qmovie.sip
+%End
 %Include qpagedpaintdevice.sip
-%Include qpagesetupdialog.sip
+%If (PyQt_Printer)
+  %If (PyQt_PrintDialog)
+    %Include qpagesetupdialog.sip
+  %End
+%End
 %Include qpainter.sip
 %Include qpaintdevice.sip
 %Include qpaintengine.sip
 %Include qpainterpath.sip
 %Include qpalette.sip
 %Include qpen.sip
-%Include qpicture.sip
+%If (PyQt_Picture)
+  %Include qpicture.sip
+%End
 %Include qpixmap.sip
 %Include qpixmapcache.sip
-%Include qplaintextedit.sip
+%If (PyQt_TextEdit)
+  %Include qplaintextedit.sip
+%End
 %Include qpolygon.sip
-%Include qprinter.sip
-%Include qprintdialog.sip
-%Include qprintengine.sip
-%Include qprinterinfo.sip
-%Include qprintpreviewdialog.sip
-%Include qprintpreviewwidget.sip
-%Include qprogressbar.sip
-%Include qprogressdialog.sip
-%Include qproxymodel.sip
+%If (PyQt_Printer)
+  %Include qprinter.sip
+%End
+%If (PyQt_PrintDialog)
+  %Include qprintdialog.sip
+%End
+%If (PyQt_Printer)
+  %Include qprintengine.sip
+  %Include qprinterinfo.sip
+%End
+%If (PyQt_PrintDialog)
+  %If (PyQt_PrintPreviewDialog)
+    %Include qprintpreviewdialog.sip
+  %End
+  %If (PyQt_PrintPreviewWidget)
+    %Include qprintpreviewwidget.sip
+  %End
+%End
+%If (PyQt_ProgressBar)
+  %Include qprogressbar.sip
+%End
+%If (PyQt_ProgressDialog)
+  %Include qprogressdialog.sip
+%End
+%If (PyQt_ItemViews)
+  %If (PyQt_ProxyModel)
+    %Include qproxymodel.sip
+  %End
+%End
 %Include qpushbutton.sip
 %Include qquaternion.sip
 %Include qradiobutton.sip
-%Include qrawfont.sip
+%If (PyQt_RawFont)
+  %Include qrawfont.sip
+%End
 %Include qregion.sip
 %Include qrgb.sip
-%Include qrubberband.sip
+%If (PyQt_RubberBand)
+  %Include qrubberband.sip
+%End
 %Include qscreen.sip
-%Include qscrollarea.sip
-%Include qscrollbar.sip
-%Include qsessionmanager.sip
-%Include qshortcut.sip
-%Include qsizegrip.sip
+%If (PyQt_ScrollArea)
+  %Include qscrollarea.sip
+%End
+%If (PyQt_ScrollBar)
+  %Include qscrollbar.sip
+%End
+%If (PyQt_SessionManager)
+  %Include qsessionmanager.sip
+%End
+%If (PyQt_Shortcut)
+  %Include qshortcut.sip
+%End
+%If (PyQt_SizeGrip)
+  %Include qsizegrip.sip
+%End
 %Include qsizepolicy.sip
-%Include qslider.sip
-%Include qsortfilterproxymodel.sip
-%Include qsound.sip
-%Include qspinbox.sip
-%Include qsplashscreen.sip
-%Include qsplitter.sip
+%If (PyQt_Slider)
+  %Include qslider.sip
+%End
+%If (PyQt_ProxyModel)
+  %If (PyQt_SortFilterProxyModel)
+    %Include qsortfilterproxymodel.sip
+  %End
+%End
+%If (PyQt_Sound)
+  %Include qsound.sip
+%End
+%If (PyQt_SpinBox)
+  %Include qspinbox.sip
+%End
+%If (PyQt_SplashScreen)
+  %Include qsplashscreen.sip
+%End
+%If (PyQt_Splitter)
+  %Include qsplitter.sip
+%End
 %Include qstackedlayout.sip
-%Include qstackedwidget.sip
-%Include qstandarditemmodel.sip
+%If (PyQt_StackedWidget)
+  %Include qstackedwidget.sip
+%End
+%If (PyQt_StandardItemModel)
+  %Include qstandarditemmodel.sip
+%End
 %Include qstatictext.sip
-%Include qstatusbar.sip
-%Include qstringlistmodel.sip
+%If (PyQt_StatusBar)
+  %Include qstatusbar.sip
+%End
+%If (PyQt_StringListModel)
+  %Include qstringlistmodel.sip
+%End
 %Include qstyle.sip
-%Include qstyleditemdelegate.sip
+%If (PyQt_ItemViews)
+  %Include qstyleditemdelegate.sip
+%End
 %Include qstylefactory.sip
 %Include qstyleoption.sip
 %Include qstylepainter.sip
-%Include qsyntaxhighlighter.sip
-%Include qsystemtrayicon.sip
-%Include qtabbar.sip
-%Include qtableview.sip
-%Include qtablewidget.sip
-%Include qtabwidget.sip
-%Include qtextbrowser.sip
+%If (PyQt_TextEdit)
+  %If (PyQt_SyntaxHighlighter)
+    %Include qsyntaxhighlighter.sip
+  %End
+%End
+%If (PyQt_SystemTrayIcon)
+  %Include qsystemtrayicon.sip
+%End
+%If (PyQt_TabBar)
+  %Include qtabbar.sip
+%End
+%If (PyQt_ItemViews)
+  %If (PyQt_TableView)
+    %Include qtableview.sip
+    %If (PyQt_TableWidget)
+      %Include qtablewidget.sip
+    %End
+  %End
+%End
+%If (PyQt_TabBar)
+  %If (PyQt_TabWidget)
+    %Include qtabwidget.sip
+  %End
+%End
+%If (PyQt_TextEdit)
+  %If (PyQt_TextBrowser)
+    %Include qtextbrowser.sip
+  %End
+%End
 %Include qtextcursor.sip
 %Include qtextdocument.sip
 %Include qtextdocumentfragment.sip
 %Include qtextdocumentwriter.sip
-%Include qtextedit.sip
+%If (PyQt_TextEdit)
+  %Include qtextedit.sip
+%End
 %Include qtextformat.sip
 %Include qtextlayout.sip
 %Include qtextlist.sip
 %Include qtextobject.sip
 %Include qtextoption.sip
 %Include qtexttable.sip
-%Include qtoolbar.sip
-%Include qtoolbox.sip
-%Include qtoolbutton.sip
-%Include qtooltip.sip
+%If (PyQt_ToolBar)
+  %Include qtoolbar.sip
+%End
+%If (PyQt_ToolBox)
+  %Include qtoolbox.sip
+%End
+%If (PyQt_ToolButton)
+  %Include qtoolbutton.sip
+%End
+%If (PyQt_ToolTip)
+  %Include qtooltip.sip
+%End
 %Include qtouchdevice.sip
 %Include qtransform.sip
-%Include qtreeview.sip
-%Include qtreewidget.sip
-%Include qtreewidgetitemiterator.sip
-%Include qundogroup.sip
-%Include qundostack.sip
-%Include qundoview.sip
-%Include qvalidator.sip
+%If (PyQt_TreeView)
+  %Include qtreeview.sip
+%End
+%If (PyQt_TreeWidget)
+  %Include qtreewidget.sip
+  %Include qtreewidgetitemiterator.sip
+%End
+%If (PyQt_UndoGroup)
+  %Include qundogroup.sip
+%End
+%If (PyQt_UndoStack)
+  %Include qundostack.sip
+%End
+%If (PyQt_UndoView)
+  %Include qundoview.sip
+%End
+%If (PyQt_Validator)
+  %Include qvalidator.sip
+%End
 %Include qvector2d.sip
 %Include qvector3d.sip
 %Include qvector4d.sip
-%Include qwhatsthis.sip
+%If (PyQt_WhatsThis)
+  %Include qwhatsthis.sip
+%End
 %Include qwidget.sip
-%Include qwidgetaction.sip
+%If (PyQt_Action)
+  %Include qwidgetaction.sip
+%End
 %Include qwindowdefs.sip
-%Include qwizard.sip
-%Include qworkspace.sip
-%Include qx11embed_x11.sip
-%Include qx11info_x11.sip
+%If (WS_QWS)
+  %Include qwindowsystem_qws.sip
+%End
+%If (PyQt_Wizard)
+  %Include qwizard.sip
+%End
+%If (PyQt_Workspace)
+  %Include qworkspace.sip
+%End
+//%If (WS_QWS)
+//  %Include qwsevent.sip
+//  %Include qwsprotocolitem.sip
+//%End
+%If (WS_X11)
+  %Include qx11embed_x11.sip
+  %Include qx11info_x11.sip
+%End
 %Include qpytextobject.sip
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/qdecoration.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/qdecoration.sip
new file mode 100644
index 0000000..ed317bf
--- /dev/null
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/qdecoration.sip
@@ -0,0 +1,59 @@
+// qdecoration.sip
+//
+// Copyright (c) 2008 David Boddie <david@boddie.org.uk>
+//
+// This program is free software: you can redistribute it and/or modify
+// it under the terms of the GNU General Public License as published by
+// the Free Software Foundation, either version 3 of the License, or
+// (at your option) any later version.
+//
+// This program is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+//
+// You should have received a copy of the GNU General Public License
+// along with this program.  If not, see <http://www.gnu.org/licenses/>.
+
+
+class QDecoration
+{
+
+%TypeHeaderCode
+#include <qdecoration_qws.h>
+%End
+
+public:
+    QDecoration();
+    virtual ~QDecoration();
+
+    enum DecorationRegion {
+        None, All,
+        TopLeft, Top, TopRight,
+        Left, Right,
+        BottomLeft, Bottom, BottomRight,
+        Borders,
+        Menu, Title, Help,
+        Minimize, Maximize, Normalize,
+        Close, Move, Resize
+    };
+
+    enum DecorationState { Normal, Disabled, Hover, Pressed };
+
+    virtual QRegion region(const QWidget *w, const QRect &rect, int decorationRegion = All ) = 0;
+    QRegion region(const QWidget *w, int decorationRegion = All );
+    virtual int regionAt(const QWidget *w, const QPoint &point);
+
+    virtual void regionClicked(QWidget *widget, int region);
+    virtual void regionDoubleClicked(QWidget *widget, int region);
+%If (PyQt_Menu)
+    virtual void buildSysMenu(QWidget *widget, QMenu *menu);
+    void menuTriggered(QWidget *widget, QAction *action);
+%End
+
+    static void startMove(QWidget *widget);
+    static void startResize(QWidget *widget);
+
+    virtual bool paint(QPainter *p, const QWidget *w, int decorationRegion = All,
+                       DecorationState state = Normal) = 0;
+};
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/qfont.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/qfont.sip
index 74b5a7c..f566be1 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtGui/qfont.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/qfont.sip
@@ -185,7 +185,9 @@ public:
 %End
     static void initialize();
     static void cleanup();
+%If (!WS_QWS)
     static void cacheStatistics();
+%End
     QString defaultFamily() const;
     QString lastResortFamily() const;
     QString lastResortFont() const;
@@ -264,5 +266,7 @@ public:
 %End
 };
 
+%If (PyQt_DataStream)
 QDataStream &operator<<(QDataStream &, const QFont & /Constrained/);
 QDataStream &operator>>(QDataStream &, QFont & /Constrained/);
+%End
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextlayout.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextlayout.sip
index a4b6574..667e69b 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextlayout.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextlayout.sip
@@ -131,11 +131,11 @@ public:
 %If (Qt_4_8_0 -)
     int rightCursorPosition(int oldPos) const;
 %End
+%If (PyQt_RawFont)
 %If (Qt_5_0_0 -)
     QList<QGlyphRun> glyphRuns(int from = -1, int length = -1) const;
 %End
 %If (Qt_4_8_0 - Qt_5_0_0)
-%If (PyQt_RawFont)
     QList<QGlyphRun> glyphRuns() const;
 %End
 %End
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextobject.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextobject.sip
index 3104750..aa8e743 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextobject.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/qtextobject.sip
@@ -247,11 +247,11 @@ public:
     QTextCharFormat charFormat() const;
     int charFormatIndex() const;
     QString text() const;
+%If (PyQt_RawFont)
 %If (Qt_5_0_0 -)
     QList<QGlyphRun> glyphRuns(int from = -1, int length = -1) const;
 %End
 %If (Qt_4_8_0 - Qt_5_0_0)
-%If (PyQt_RawFont)
     QList<QGlyphRun> glyphRuns() const;
 %End
 %End
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowdefs.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowdefs.sip
index 724bb98..14e6678 100644
--- a/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowdefs.sip
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowdefs.sip
@@ -41,3 +41,6 @@ typedef HWND WId;
 // MacOS/X specific definitions.
 typedef long WId;
 %End
+%If (WS_QWS)
+typedef unsigned long WId;
+%End
diff --git a/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowsystem_qws.sip b/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowsystem_qws.sip
new file mode 100644
index 0000000..9ef6729
--- /dev/null
+++ b/PyQt-x11-gpl-4.9.6/sip/QtGui/qwindowsystem_qws.sip
@@ -0,0 +1,190 @@
+// qwindowsystem_qws.sip
+//
+// Copyright (c) 2012 David Boddie <david@boddie.org.uk>
+//
+// This program is free software: you can redistribute it and/or modify
+// it under the terms of the GNU General Public License as published by
+// the Free Software Foundation, either version 3 of the License, or
+// (at your option) any later version.
+//
+// This program is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+//
+// You should have received a copy of the GNU General Public License
+// along with this program.  If not, see <http://www.gnu.org/licenses/>.
+
+%Import QtNetwork/QtNetworkmod.sip
+
+class QWSScreenSaver
+{
+%TypeHeaderCode
+#include <qwindowsystem_qws.h>
+%End
+
+public:
+    virtual ~QWSScreenSaver();
+    virtual void restore()=0;
+    virtual bool save(int level)=0;
+};
+
+class QWSWindow
+{
+%TypeHeaderCode
+#include <qwindowsystem_qws.h>
+%End
+
+public:
+    QWSWindow(int i, QWSClient* client);
+    ~QWSWindow();
+
+    int winId() const;
+    const QString &name() const;
+    const QString &caption() const;
+    QWSClient* client() const;
+    const QRegion &requestedRegion() const;
+    QRegion allocatedRegion() const;
+    QRegion paintedRegion() const;
+    bool isVisible() const;
+    bool isPartiallyObscured() const;
+    bool isFullyObscured() const;
+
+    enum State { NoState, Hidden, Showing, Visible, Hiding, Raising, Lowering, Moving, ChangingGeometry, Destroyed };
+    State state() const;
+    Qt::WindowFlags windowFlags() const;
+    QRegion dirtyOnScreen() const;
+
+    void raise();
+    void lower();
+    void show();
+    void hide();
+    void setActiveWindow();
+
+    bool isOpaque() const;
+    uint opacity() const;
+
+    //QWSWindowSurface* windowSurface() const;
+};
+
+class QWSServer
+{
+%TypeHeaderCode
+#include <qwindowsystem_qws.h>
+%End
+
+public:
+    explicit QWSServer(int flags = 0, QObject *parent=0);
+    ~QWSServer();
+    enum ServerFlags { DisableKeyboard = 0x01,
+                       DisableMouse = 0x02 };
+
+    static void sendKeyEvent(int unicode, int keycode, Qt::KeyboardModifiers modifiers,
+                             bool isPress, bool autoRepeat);
+%If (PyQt_QWS_Keyboard)
+    static void processKeyEvent(int unicode, int keycode, Qt::KeyboardModifiers modifiers,
+                                bool isPress, bool autoRepeat);
+%End
+
+    static QWSServer* instance();
+
+%If (PyQt_QWS_InputMethods)
+    enum IMMouse { MousePress, MouseRelease, MouseMove, MouseOutside }; //MouseMove reserved but not used
+    void sendIMEvent(const QInputMethodEvent*);
+    void sendIMQuery(int property);
+%End
+
+    static void setDefaultMouse(const char *);
+    static void setDefaultKeyboard(const char *);
+
+    static void setBackground(const QBrush &);
+    QWSWindow *windowAt(const QPoint& pos);
+
+    const QList<QWSWindow*> &clientWindows();
+
+    static void setScreenSaver(QWSScreenSaver*);
+    static void setScreenSaverIntervals(int* ms);
+    static void setScreenSaverInterval(int);
+    static void setScreenSaverBlockLevel(int);
+    static bool screenSaverActive();
+    static void screenSaverActivate(bool);
+
+    const QBrush &backgroundBrush() const;
+
+    enum WindowEvent { Create=0x0001, Destroy=0x0002, Hide=0x0004, Show=0x0008,
+                       Raise=0x0010, Lower=0x0020, Geometry=0x0040, Active = 0x0080,
+                       Name=0x0100 };
+
+signals:
+    void windowEvent(QWSWindow *w, QWSServer::WindowEvent e);
+
+%If (PyQt_COP)
+    void newChannel(const QString& channel);
+    void removedChannel(const QString& channel);
+%End
+
+%If (PyQt_QWS_InputMethods)
+    void markedText(const QString &);
+%End
+
+private:
+    QWSServer(const QWSServer &);
+};
+
+%If (PyQt_QWS_InputMethods)
+class QWSInputMethod : public QObject
+{
+%TypeHeaderCode
+#include <qwindowsystem_qws.h>
+%End
+
+public:
+    QWSInputMethod();
+    virtual ~QWSInputMethod();
+
+    enum UpdateType {Update, FocusIn, FocusOut, Reset, Destroyed};
+
+    virtual bool filter(int unicode, int keycode, int modifiers,
+                        bool isPress, bool autoRepeat);
+
+    virtual bool filter(const QPoint &, int state, int wheel);
+
+    virtual void reset();
+    virtual void updateHandler(int type);
+    virtual void mouseHandler(int pos, int state);
+    virtual void queryResponse(int property, const QVariant&);
+
+protected:
+    uint setInputResolution(bool isHigh);
+    uint inputResolutionShift() const;
+    void sendMouseEvent(const QPoint &pos, int state, int wheel);
+
+    void sendEvent(const QInputMethodEvent*);
+    void sendPreeditString(const QString &preeditString, int cursorPosition, int selectionLength = 0);
+    void sendCommitString(const QString &commitString, int replaceFrom = 0, int replaceLength = 0);
+    void sendQuery(int property);
+};
+%End
+
+
+class QWSClient : public QObject
+{
+%TypeHeaderCode
+#include <qwindowsystem_qws.h>
+%End
+
+public:
+    QWSClient(QObject* parent, QTcpSocket *, int id);
+    ~QWSClient();
+
+    int socket() const;
+
+    void setIdentity(const QString&);
+    QString identity() const;
+
+    int clientId() const;
+
+signals:
+    void connectionClosed();
+    void readyRead();
+};
-- 
1.8.5.1+fc2

