# HG changeset patch
# User mark.adams@vivint.com
# Date 1481644279 25200
# Node ID 268e20f726fd1c6c44e34ffc818b6046ef7c60f4
# Parent  f8e6a7d6c4f6c52b00a26883b2e3f98b47acbc1a
alsa clock patch

diff --git a/src/modules/alsa/alsa-sink.c b/src/modules/alsa/alsa-sink.c
--- a/src/modules/alsa/alsa-sink.c
+++ b/src/modules/alsa/alsa-sink.c
@@ -870,8 +870,8 @@
     now1 = pa_timespec_load(&htstamp);
 
     /* Hmm, if the timestamp is 0, then it wasn't set and we take the current time */
-    if (now1 <= 0)
-        now1 = pa_rtclock_now();
+    //if (now1 <= 0)
+    now1 = pa_rtclock_now();
 
     /* check if the time since the last update is bigger than the interval */
     if (u->last_smoother_update > 0)
diff --git a/src/modules/alsa/alsa-source.c b/src/modules/alsa/alsa-source.c
--- a/src/modules/alsa/alsa-source.c
+++ b/src/modules/alsa/alsa-source.c
@@ -791,8 +791,8 @@
     now1 = pa_timespec_load(&htstamp);
 
     /* Hmm, if the timestamp is 0, then it wasn't set and we take the current time */
-    if (now1 <= 0)
-        now1 = pa_rtclock_now();
+    //if (now1 <= 0)
+    now1 = pa_rtclock_now();
 
     /* check if the time since the last update is bigger than the interval */
     if (u->last_smoother_update > 0)
